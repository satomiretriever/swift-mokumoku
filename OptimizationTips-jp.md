# Writing High-Performance Swift Code
- [最適化を可能にする](https://github.com/satomiretriever/swift-mokumoku/blob/master/OptimizationTips-jp.md#最適化を可能にする)
- [モジュール全体の最適化]()

## 最適化を可能にする
最適化を可能にすることは常に第一にやるべきことです。Swiftに3つの異なる最適化のレベルがあります。
- -0none: これは通常の開発を意味します。最小限の最適化をし、すべてのデバッグ情報を保持します。
- -0: これはほぼ本番用のコードを意味します。コンパイラは積極的な最適化をし型やコード量を劇的に変更します。デバッグ情報は放出され消えます。
- -0unchecked: これは特別な最適化モードで特定のライブラリやパフォーマンスが不安定になることを厭わないアプリケーションに用いられます。コンパイラは暗黙の型チェックと同様にオーバーフローチェックをすべて削除します。これは、メモリーの安全性やintegerのオーバーフローを検知できないかもしれない為、一般的に使ってもらいたいものではありません。唯一のユースケースは、integerのオーバーフローや型変換が充分に安全であるといえるほど、コードを注意深くレビューした場合です。

XcodeのUIでは、現在の最適化レベルは次の用に変更できます。

## モジュール全体の最適化
デフォルトでは、Swiftはそれぞれのファイルをここにコンパイルします。これにより、Xcodeに複数のファイルを並列にとても素早くコンパイルさせることが出来ます。しかし、夫々のファイルを別々にコンパイルすることで、あるコンパイラの最適化を妨げます。Swiftはプログラム全体を、まるで1つのファイルかの様にコンパイル出来、まるでSingle Comiplation Unitの様にプログラムを最適化できます。このモードは ```swiftc``` コマンドを ```-whole-module-optimization``` フラグと使って可能になります。このモードでコンパイルされたプログラムはコンパイルに時間がかかる様に思えますが、とてもも高速で動かせます。

このモードは、Xcodeの Build Setting で ```Whole Module Optimization``` を使うことで可能になります。
